"use strict";(self.webpackChunkdocs_quick_shop_search=self.webpackChunkdocs_quick_shop_search||[]).push([[873],{2163:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var o=s(4848),t=s(8453),a=s(6025);const i={sidebar_position:3},r="Configuration",l={id:"configuration",title:"Configuration",description:"The configuration and all of its translation-inputs can be found in the folder called QuickShopSearch/config; see the ConfigMapper's Documentation for more detail.",source:"@site/docs/configuration.md",sourceDirName:".",slug:"/configuration",permalink:"/docs-quick-shop-search/configuration",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"documentationSidebar",previous:{title:"Installation",permalink:"/docs-quick-shop-search/installation"},next:{title:"Issue Reporting",permalink:"/docs-quick-shop-search/issue-reporting"}},d={},c=[{value:"Teleport-Cooldowns",id:"teleport-cooldowns",level:2},{value:"Slow-Teleport",id:"slow-teleport",level:2},{value:"PlayerWarps Integration",id:"playerwarps-integration",level:2},{value:"Essentials Warps Integration",id:"essentials-warps-integration",level:2},{value:"WorldGuard Integration",id:"worldguard-integration",level:2},{value:"Access-Lists",id:"access-lists",level:2},{value:"Distance-Based Fees",id:"distance-based-fees",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,o.jsxs)(n.p,{children:["The configuration and all of its translation-inputs can be found in the folder called ",(0,o.jsx)(n.code,{children:"QuickShopSearch/config"}),"; see the ",(0,o.jsx)(n.a,{href:"https://blvckbytes.github.io/docs-config-mapper",children:"ConfigMapper's Documentation"})," for more detail."]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"There are quite a few lines in my configuration-files, as I value flexibility; many usually represent preprocessor-directives as to substitute in language file keys. If you're in search of specific settings, feel free to look them up via your editor's search-feature and simply skip over what you do not need."})}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:"If you try to delete a key and it is automatically extended back into the config-file by the plugin, try commenting it out instead; the software then should detect your intent and refrain from updating the corresponding property again."})}),"\n",(0,o.jsx)(n.h2,{id:"teleport-cooldowns",children:"Teleport-Cooldowns"}),"\n",(0,o.jsx)(n.p,{children:'To avoid users spamming teleportation, or in some cases, restricting the convenience of travelling back-and-forth as to carry huge amounts, cooldowns have been introduced. They differentiate between "same shop" and "any shop", where any applies to all teleportations, and "same" applies to shops which have been teleported to already, as it may be required to set another duration regarding travelling back to a recent shop, in contrast to visiting a new place. On top of this, the second differentiation lies in whether the shop is within the player\'s current-, or a foreign, other world; thus, four potential cooldowns arise. If you do not need some (or all, for that matter) of them, simply set them to a value of zero.'}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",children:"# Specify the cooldown-duration in seconds\ncooldowns:\n  teleportToShop:\n    default:\n      sameShop: 30\n      anyShop: 20\n      otherWorldSameShop: 60\n      otherWorldAnyShop: 40\n"})}),"\n",(0,o.jsx)(n.p,{children:"If you desire to alter the cooldown of players on a permission-basis (e.g. ranks), use the group-section, which is processed top-down when trying to resolve applicable time-values for any given user."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",children:"# Specify the cooldown-duration in seconds\ncooldowns:\n  teleportToShop:\n    default:\n      sameShop: 30\n      anyShop: 20\n      otherWorldSameShop: 60\n      otherWorldAnyShop: 40\n    groups:\n      # Hand out quickshopsearch.teleport-cooldown.test to permit these values\n      test:\n        sameShop: 10\n        anyShop: 5\n        otherWorldSameShop: 15\n        otherWorldAnyShop: 10\n"})}),"\n",(0,o.jsx)(n.h2,{id:"slow-teleport",children:"Slow-Teleport"}),"\n",(0,o.jsx)(n.p,{children:"Especially on servers which rely on combat as being part of their concept, instantaneous teleportation without any additional checks may be a dealbreaker; for this exact reason, slow teleportation - meaning only moving the player after a countdown elapsed successfully - has been introduced."}),"\n",(0,o.jsx)(n.p,{children:"The corresponding section offers quite a lot of flexibility, enabling the user to configure various durations, messages, sounds, and also to differentiate between slowly teleporting in normal- vs. in combat-situations; if you do not seek to differentiate, simply configure the two options identically."}),"\n",(0,o.jsx)(n.p,{children:"The defaults have been kept rather sensible and should not require much work in most real-world scenarios. Also notice the corresponding bypass-permission as listed on the main page of this documentation."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",children:"# Countdowns before teleporting\nslowTeleport:\n  # Cancel the countdown if damaged by another player - no  matter if directly or via a projectile\n  cancelIfDamagedByPlayer: true\n  # Cancel the countdown if the player experiences damage by non-player sources, like cacti, drowning, fire, etc.\n  cancelIfDamagedByNonPlayer: false\n  # Duration in seconds for the player to be marked as \"in combat\" since they've last been damaged by somebody else\n  combatLogCoolOffDurationSeconds: 10\n  # How to act when the player's considered being in combat, as dictated by the cool-off duration above\n  whenInCombat:\n    # Countdown duration\n    # Set to zero as to disable this part of the feature; also works for `whenNotInCombat`\n    durationSeconds: 5\n    # Notification properties used when there's a null-value set to a seconds-value in `notificationAtSeconds` down below\n    # This way, common messages and sounds can be lifted out, saving on needless repitition\n    fallbackNotification:\n      # One of https://github.com/CryptoMorin/XSeries/blob/master/core/src/main/java/com/cryptomorin/xseries/XSound.java\n      sound: 'BLOCK_NOTE_BLOCK_PLING'\n      # - remaining_seconds: Integer\n      messages:\n        messageTitle: '...'\n        messageSubTitle: '...'\n        # Leave messages as null-values for them to be disabled\n        messageActionBar: null\n        messageChat: null\n    # At which points in time to notify the player?\n    notificationAtSeconds:\n      # Set to null in order to use the `fallbackNotification`\n      5: null\n      4: null\n      3: null\n      2: null\n      1: null\n      # Exception from the fallback - differing sound and a chat-message instead of a title\n      0:\n        sound: 'BLOCK_NOTE_BLOCK_PLING'\n        # Make the last pling be of higher pitch and loudness\n        soundVolume: 1.1\n        soundPitch: 1.2\n        messages:\n          messageChat: '...'\n  # Completely analogous to the `whenInCombat`-section; can be copied down 1:1\n  whenNotInCombat:\n"})}),"\n",(0,o.jsx)(n.h2,{id:"playerwarps-integration",children:"PlayerWarps Integration"}),"\n",(0,o.jsxs)(n.p,{children:["As requested, instead of being teleported to the selected shop, one can now also be teleported to the nearest player-warp, as defined by the ",(0,o.jsx)(n.code,{children:"com.olziedev"}),"'s ",(0,o.jsx)(n.code,{children:"PlayerWarps"})," plugin or ",(0,o.jsx)(n.code,{children:"dev.revivalo"}),"'s free alternative. The system checks neighboring chunks within the configured range of blocks for player-warps and chooses the one with least distance."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",children:"playerWarpsIntegration:\n  enabled: true\n  nearestWarpBlockRadius: 15\n  # Whether to display the lore-line regarding the nearest player-warp on\n  # the representative icon in the browser\n  displayNearestInIcon: false\n  # Only used if there exist no update notifiers within the warps-plugin at hand\n  # Set to a negative number as to disable updating altogether\n  updatePeriodSeconds: 30\n  # Whether player-warps may only be corresponded if they're within the\n  # same region as the shop itself\n  withinSameRegion: false\n"})}),"\n",(0,o.jsx)(n.h2,{id:"essentials-warps-integration",children:"Essentials Warps Integration"}),"\n",(0,o.jsx)(n.p,{children:"The functionality of this integration is analogous to that of player-warps."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",children:"essentialsWarpsIntegration:\n  enabled: true\n  nearestWarpBlockRadius: 15\n  # Whether to display the lore-line regarding the nearest player-warp on\n  # the representative icon in the browser\n  displayNearestInIcon: false\n  # Whether essentials-warps may only be corresponded if they're within the\n  # same region as the shop itself\n  withinSameRegion: false\n"})}),"\n",(0,o.jsx)(n.h2,{id:"worldguard-integration",children:"WorldGuard Integration"}),"\n",(0,o.jsx)(n.p,{children:"This integration allows the plugin to fetch the applicable regions of any given point within the world and thereby support further constraints and features."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",children:"worldGuardIntegration:\n  enabled: true\n  # Regions with these IDs will be skipped over\n  # Example: A big market-place region does not count for being in the same region, while\n  #          smaller individual shop-regions do; thus, add the former to the ignore-list\n  ignoredIds: [\"my-region-1\", \"my-region-2\"]\n  # Regions with these priority-numbers will be skipped over\n  ignoredPriorities: [1, 5]\n  # Region-names that shops are allowed to be advertised in\n  # Keep empty as to apply no such constraints\n  advertiseIdsAllowList: []\n  # If a shop's created within an allowed region, should it be advertised automatically?\n  # This does not take effect if a state has already been chosen manually already,\n  # as to not overrule the player's decision of opting out.\n  autoAdvertiseIfInAllowList: false\n  # If a shop's loaded that's not within an allowed region, should it's\n  # advertise-status be disabled automatically?\n  disableAdvertiseIfNotAllowed: false\n"})}),"\n",(0,o.jsx)(n.h2,{id:"access-lists",children:"Access-Lists"}),"\n",(0,o.jsxs)(n.p,{children:["In order to control which shops may be accessed by users, access-lists have been introduced; they are located under the key ",(0,o.jsx)(n.code,{children:'"shopAccessLists"'})," in the configuration-file."]}),"\n",(0,o.jsxs)(n.p,{children:["Since different players may have access to a different set of shops, these lists are scoped by permission-suffixes in the form of ",(0,o.jsx)(n.code,{children:"quickshopsearch.access-list.<suffix>"}),", with ",(0,o.jsx)(n.code,{children:"<suffix>"})," being the key under which an access-list registers in the config, under the key ",(0,o.jsx)(n.code,{children:"permissions"}),", right next to ",(0,o.jsx)(n.code,{children:"default"}),"; they are checked in the same order as specified, and the first matching permission-node will be taken as an input when filtering results for any given player."]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:"Beware of permission-inheritance with groups; either specify access-lists in reverse order of group-inheritance, or block access-list permissions from trickling down, as to avoid undesired behavior."})}),"\n",(0,o.jsxs)(n.p,{children:["If a player does not satisfy any of the permission-checks, the ",(0,o.jsx)(n.code,{children:"default"}),"-section will be employed. In the case that you do not want to differentiate by permissions, simply only specify a default. Access-lists can be bypassed altogether by the permission ",(0,o.jsx)(n.code,{children:"quickshopsearch.bypass-access-lists"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["The list ",(0,o.jsx)(n.code,{children:"types"})," represents a list of item-types, as defined in ",(0,o.jsx)(n.a,{href:"https://github.com/CryptoMorin/XSeries/blob/master/src/main/java/com/cryptomorin/xseries/XMaterial.java",children:"XMaterial"}),", as to support a broader range of versions. The flag ",(0,o.jsx)(n.code,{children:"isAllowTypes"})," represents the access-mode, with ",(0,o.jsx)(n.code,{children:"true"})," signalling that only the specified types are allowed, but none other than these, and with ",(0,o.jsx)(n.code,{children:"false"})," meaning that only the specified types are disallowed, and all but these are allowed."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"shopAccessLists:\n  # Used when no permission-suffix matched on the player\n  default:\n    # Allow only the following\n    isAllowTypes: true\n    types:\n      - DIAMOND_PICKAXE\n      - IRON_SWORD\n  permissions:\n    # quickshopsearch.access-list.suffix-a\n    suffix-a:\n      # Disallow only the following\n      isAllowTypes: false\n      types:\n        - GOLDEN_PICKAXE\n        - WOODEN_SWORD\n    # quickshopsearch.access-list.suffix-b\n    suffix-b:\n      # Disallow only the following\n      isAllowTypes: false\n      types:\n        - WOODEN_PICKAXE\n        - GOLDEN_SWORD\n"})}),"\n",(0,o.jsx)(n.h2,{id:"distance-based-fees",children:"Distance-Based Fees"}),"\n",(0,o.jsxs)(n.p,{children:["All configuration-options regarding distance-based fees can be found under the root-level key called ",(0,o.jsx)(n.code,{children:"fees"}),"; to enable or disable this feature in its entirety, toggle ",(0,o.jsx)(n.code,{children:"enabled"})," to ",(0,o.jsx)(n.code,{children:"true"})," or ",(0,o.jsx)(n.code,{children:"false"}),". When faced with the task of formulating your desired behaviour using the notation presented below, try to think about the resolution algorithm, as follows:"]}),"\n",(0,o.jsx)("img",{src:(0,a.Ay)("/img/fees_flowchart.svg"),style:{width:"100%",maxWidth:"600px",backgroundColor:"#e7e7e7ff",padding:"1rem",borderRadius:".3rem",marginBottom:"1rem"}}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:"If you're looking to implement distance-agnostic fees, or even a world-agnostic version for that matter, simply leave out the corresponding explicit sections and rely on their fallbacks! :)"})}),"\n",(0,o.jsx)(n.p,{children:"The following full example demonstrates all available properties; similar schemas are simply mentioned by an indented comment, as to increase readability."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",children:"fees:\n  enabled: true\n  # Fees are withdrawn from the user before trying to initiate remote interaction\n  # Once withdrawn, the timeout starts ticking - if it elapses, the fees are payed back\n  # What cancels said timeout then is a payment success response from QuickShop-Hikari\n  # 40 ticks is the default value and represents a span of two seconds\n  # Do not touch this key unless you know exactly what you're doing!\n  feesPayBackTimeoutTicks: 40\n  # Applied when the shop is located in another world than the player currently resides in\n  otherWorld:\n    # Fallback fees to use when no world-name applies\n    worldsFallback:\n      # Buy/Sell refers to the action the player's taking.\n\n      # Absolute fees are simply added/taken in a static manner, not taking\n      # the actual price into account; they are clamped as to not produce\n      # negative values, though. Deleting the keys is equal to a zero-value.\n      # Fees are always specified as positive numbers.\n      absoluteBuy: 0\n      absoluteSell: 0\n      # Relative fees are a value from 0 to 100 and are interpreted as a\n      # percentage of the actual price at hand. Deleting the keys is\n      # equal to a zero-value. Fees are always specified as positive numbers.\n      relativeBuy: 0\n      relativeSell: 0\n      # Only relevant when it comes to permissions - due to inheritance,\n      # a user might have access to multiple fees. The highest number of\n      # all accessible sections is selected as the final result.\n      priority: 0\n    # Separate fees per world-name\n    worlds:\n      world-one:\n        # Schema of fees.otherWorld.worldsFallback\n      world-two:\n        # Schema of fees.otherWorld.worldsFallback\n\n  # All sections from this point onwards are referring to same-world shops\n\n  # Fallback fees to use when no world-name applies\n  worldsFallback:\n    # Fallback range to use when no existing range applies\n    distanceRangesFallback:\n      # Fallback fees to use when no permission-name applies\n      permissionNamesFallback:\n        # Schema of fees.otherWorld.worldsFallback\n      # Fees by permission-names\n      # Pattern: quickshopsearch.feature.fees.permission-name.<name>\n      permissionNames:\n        first-permission:\n          # Schema of fees.otherWorld.worldsFallback\n        second-permission:\n          # Schema of fees.otherWorld.worldsFallback\n    distanceRanges:\n      -\n        minDistance: 0\n        maxDistance: 0\n        # Fallback fees to use when no permission-name applies\n        permissionNamesFallback:\n          # Schema of fees.otherWorld.worldsFallback\n        # Fees by permission-names\n        # Pattern quickshopsearch.feature.fees.permission-name.<name>\n        permissionNames:\n          first-permission:\n            # Schema of fees.otherWorld.worldsFallback\n          second-permission:\n            # Schema of fees.otherWorld.worldsFallback\n  # Separate distance-ranges per world-name\n  worlds:\n    world-one:\n      # Schema of fees.worldsFallback\n    world-two:\n      # Schema of fees.worldsFallback\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>r});var o=s(6540);const t={},a=o.createContext(t);function i(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);